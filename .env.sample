# ==============================================
# Yokinsoft Paperless - 環境変数サンプル
# このファイルを .env にコピーして必要な値を設定してください。
# ==============================================

# --------------------------------------------------
# 実行環境
# --------------------------------------------------

# 実行環境: dev | stg | prod
APP_ENV=dev

# SQLite DB ファイルパス（最優先）。設定した場合 APP_ENV / DATABASE_URL は無視されます。
# 例（Windows）: D:/Projects/YokinsPaperless/data/yokinspaperless-dev.db
DATABASE_PATH=

# DATABASE_PATH が空の場合に使う DB URL/パス。
# sqlite:///absolute/path.db 形式または通常のファイルパスに対応。
DATABASE_URL=

# --------------------------------------------------
# Gemini AI（monitor / classify）
# --------------------------------------------------

# Gemini API キー（AI解析に必須）。
GEMINI_API_KEY=

# monitor / classifier が使用する Gemini モデル名。
# 例: gemini_flash_latest, gemini-flash-latest
GEMINI_API_MODEL=gemini-flash-latest

# Gemini API応答待ち中の進捗ログ出力間隔（秒）。
MONITOR_GEMINI_PROGRESS_INTERVAL_SECONDS=30

# --------------------------------------------------
# 監視サービス（monitor/monitor.py）
# --------------------------------------------------

# メイン監視ディレクトリ（--dir 未指定時に使用）。
MONITOR_DIR=

# 追加監視ディレクトリ（任意、連番で指定）。
MONITOR_DIR_1=
MONITOR_DIR_2=

# 対象ファイル拡張子（カンマ区切り）。
MONITOR_FILE_TYPES=.pdf,.tiff,.tif

# 処理失敗時の最大リトライ回数（整数、0以上）。
MONITOR_RETRY_MAX=3

# ファイル安定性チェック: 同一サイズが連続で何回続けば安定とみなすか。
MONITOR_STABLE_CHECK_COUNT=3

# ファイル安定性チェック間隔（秒）。
MONITOR_STABLE_CHECK_INTERVAL_SECONDS=1.0

# ファイル安定性チェックのタイムアウト（秒）。
MONITOR_STABLE_TIMEOUT_SECONDS=120

# 取り込み時にサムネイル画像（Base64 JPEG）を生成して DocumentData.thumbnailImage に格納。
THUMBNAIL=false

# サムネイル長辺サイズ（px）。未設定時は 250。
THUMBNAIL_SIZE=250

# monitor から Web へ文書INSERTイベント通知を送るかどうか（true/false）。
MONITOR_EVENT_NOTIFY_ENABLED=true

# monitor から Web へ送る通知先URL。空なら API_HTTPS / API_HOST / API_PORT から自動解決。
# 既定: http(s)://127.0.0.1:<API_PORT>/api/internal/documents-inserted
MONITOR_EVENT_NOTIFY_URL=

# monitor -> Web イベント通知時に使う共有トークン（推奨）。
# 設定した場合、Web側でも同じ値を MONITOR_EVENT_NOTIFY_TOKEN に設定してください。
MONITOR_EVENT_NOTIFY_TOKEN=

# monitor のイベント通知タイムアウト秒。
MONITOR_EVENT_NOTIFY_TIMEOUT_SECONDS=3

# --------------------------------------------------
# Web API サーバー（web/server/index.mjs）
# --------------------------------------------------

# API バインド先ホスト。
API_HOST=127.0.0.1

# API バインド先ポート。
API_PORT=3001

# true/1/yes/on で HTTPS を有効化。
API_HTTPS=false

# HTTPS の PKCS#12 ファイルパス（.pfx/.p12）。設定時はこちらが優先されます。
API_HTTPS_PFX_PATH=

# HTTPS 証明書ファイルのパス（PFX 未設定時に使用）。
API_HTTPS_CERT_PATH=

# HTTPS 秘密鍵ファイルのパス（PFX 未設定時に使用）。
API_HTTPS_KEY_PATH=

# CA チェーン証明書ファイルのパス（任意）。
API_HTTPS_CA_PATH=

# PFX / 秘密鍵のパスフレーズ（任意）。
API_HTTPS_PASSPHRASE=

# セッション署名用シークレット（本番では長いランダム文字列を推奨）。
API_SESSION_SECRET=

# セッションシークレットの旧エイリアス（API_SESSION_SECRET が空のときのフォールバック）。
APP_SECRET=

# --------------------------------------------------
# Web フロントエンド（Vite）
# --------------------------------------------------

# フロントエンドの API ベースURL。'/api' の場合は同一オリジンの API ルートを使用。
VITE_API_BASE_URL=/api
